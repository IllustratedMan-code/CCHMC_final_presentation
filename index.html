<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8"/>
<meta name="author" content="David Lewis"/>
<style type="text/css">
.underline { text-decoration: underline; }
</style>
<link rel="stylesheet" href="./reveal.js/dist/reveal.css"/>

<link rel="stylesheet" href="./reveal.js/dist/theme/serif.css" id="theme"/>
</head>
<body>
<div class="reveal">
<div class="slides">
<section>
<section id="slide-org78ba45c">
<h2 id="org78ba45c">Journey through the Pipeline</h2>
<ul>
<li>COOP Student from UC</li>
<li>Computational Team</li>

</ul>
</section>
<section id="slide-org3e395aa">
<h3 id="org3e395aa">What Have I been doing?</h3>
<ul>
<li><code>trackgen</code></li>
<li><code>compileqc</code></li>
<li><code>atac_seq_mixtape</code></li>
<li>Mixtape Engineers</li>

</ul>
</section>
</section>
<section>
<section id="slide-org8188074">
<h2 id="org8188074"><span class="todo TODO">TODO</span> Trackgen</h2>
<ul>
<li>Generate UCSC trackhub config files
ADD GIF HERE</li>

</ul>
</section>
<section id="slide-org2e579b8">
<h3 id="org2e579b8">Usage</h3>
<div class="org-src-container">

<pre class="src src-bash">trackgen --help <span style="color: #5f676b;"># </span><span style="color: #5f676b;">get some help</span>
trackgen config <span style="color: #5f676b;"># </span><span style="color: #5f676b;">generates trackgen config, finds required files</span>
trackgen hub <span style="color: #5f676b;"># </span><span style="color: #5f676b;">generates hub config</span>
</pre>
</div>

<div id="orga9ce1ed" class="figure">
<p><img src="trackgenhelp.png" alt="trackgenhelp.png" />
</p>
</div>
</section>
<section id="slide-org4233132">
<h3 id="org4233132">Containers and Modules</h3>
<ul>
<li>Module is stable, container is unstable</li>

</ul>
<div class="org-src-container">

<pre class="src src-bash">module load trackgen
trackgen --help
<span style="color: #5f676b;"># </span><span style="color: #5f676b;">is equivalent to</span>
module load singularity
singularity run $<span style="color: #9da9a0;">TEAM</span>/lew2mz/containers/trackgen --help
</pre>
</div>
</section>
<section id="slide-orgb707704">
<h3 id="orgb707704">Features</h3>
<ul>
<li>Functional config language (modified JSON/YAML)</li>
<li>Regex/glob based detection of files</li>
<li>JSON/YAML to hub conversion</li>

</ul>
</section>
<section id="slide-orgb86c6a2">
<h3 id="orgb86c6a2"><span class="todo TODO">TODO</span> Development strategy</h3>
<ul>
<li>Some unit tests</li>
<li>Easily extendable</li>
<li>Automatic Documentation (LINK HERE)</li>

</ul>
</section>
<section id="slide-org481379f">
<h3 id="org481379f"><span class="todo TODO">TODO</span> Architecture</h3>
<table border="2" cellspacing="0" cellpadding="6" rules="groups" frame="hsides">


<colgroup>
<col  class="org-left" />

<col  class="org-left" />
</colgroup>
<thead>
<tr>
<th scope="col" class="org-left">High level</th>
<th scope="col" class="org-left">Low level</th>
</tr>
</thead>
<tbody>
<tr>
<td class="org-left"><img src="trackgen_high_level.png" alt="trackgen_high_level.png" /></td>
<td class="org-left"><img src="trackgen_low_level.png" alt="trackgen_low_level.png" /></td>
</tr>
</tbody>
</table>

</section>
</section>
<section>
<section id="slide-orgf460594">
<h2 id="orgf460594">Compileqc</h2>
<ul>
<li>Generate QC sheet from pipeline</li>
<li>Budget Multiqc</li>

</ul>
</section>
<section id="slide-org876c6e0">
<h3 id="org876c6e0">Usage</h3>
<div class="org-src-container">

<pre class="src src-bash">module load singularity
singularity run $<span style="color: #9da9a0;">TEAM</span>/lew2mz/containers/compileqc --help
</pre>
</div>

<div id="org8af6c98" class="figure">
<p><img src="compileqchelp.png" alt="compileqchelp.png" />
</p>
</div>
</section>
<section id="slide-orgbb1929e">
<h3 id="orgbb1929e">Output</h3>
<ul>
<li>Configurable shortname</li>
<li>Different Sheets for each data type</li>

</ul>

<div id="orgcb1f896" class="figure">
<p><img src="spreadsheet.png" alt="spreadsheet.png" />
</p>
</div>
</section>
<section id="slide-orgbfe7c3e">
<h3 id="orgbfe7c3e">Features</h3>
<p>
Aggregate the following output
</p>
<ul>
<li>Homer</li>
<li>(TF/NONTF) RELI</li>
<li>ENCODE</li>

</ul>
</section>
<section id="slide-orga264918">
<h3 id="orga264918"><span class="todo TODO">TODO</span> Development strategy</h3>
<ul>
<li>Test based development</li>
<li>Object oriented</li>
<li>Design before code</li>
<li>Automatic documentation (LINK)</li>

</ul>
</section>
<section id="slide-org73a594a">
<h3 id="org73a594a"><span class="todo TODO">TODO</span> ARCHITECTURE</h3>
<table border="2" cellspacing="0" cellpadding="6" rules="groups" frame="hsides">


<colgroup>
<col  class="org-left" />

<col  class="org-left" />
</colgroup>
<thead>
<tr>
<th scope="col" class="org-left">High level</th>
<th scope="col" class="org-left">Low level</th>
</tr>
</thead>
<tbody>
<tr>
<td class="org-left"><img src="compileqc_high_level.png" alt="compileqc_high_level.png" /></td>
<td class="org-left"><img src="compileqc_low_level.png" alt="compileqc_low_level.png" /></td>
</tr>
</tbody>
</table>
</section>
</section>
<section>
<section id="slide-org2938ab0">
<h2 id="org2938ab0">Atac seq mixtape</h2>
<ul>
<li>Nextflow pipeline to automate analysis</li>

</ul>
</section>
<section id="slide-org987a8f8">
<h3 id="org987a8f8">Contribution</h3>
<ul>
<li>Make UI</li>
<li>compilqc integration</li>

</ul>
</section>
</section>
<section>
<section id="slide-org1646e47">
<h2 id="org1646e47">Make UI</h2>
<ul>
<li>Intuitive interface</li>
<li>Automatic help generation</li>
<li>Error detection</li>

</ul>
</section>
<section id="slide-orgef2df96">
<h3 id="orgef2df96">Usage</h3>
<div class="org-src-container">

<pre class="src src-bash"><span style="color: #fdf6e3;">make</span> <span style="color: #5f676b;"># </span><span style="color: #5f676b;">or </span><span style="color: #5f676b;">make</span><span style="color: #5f676b;"> help</span>
<span style="color: #fdf6e3;">make</span> config <span style="color: #5f676b;"># </span><span style="color: #5f676b;">will walk you through data entry</span>
<span style="color: #fdf6e3;">make</span> config <span style="color: #5f676b;"># </span><span style="color: #5f676b;">run it after data entry</span>
<span style="color: #fdf6e3;">make</span> run <span style="color: #5f676b;"># </span><span style="color: #5f676b;">run the pipeline (will fail)</span>
</pre>
</div>
</section>
<section id="slide-org87b258c">
<h3 id="org87b258c"><span class="todo TODO">TODO</span> Demo</h3>
<p>
ADD GIF HERE
</p>
</section>
<section id="slide-org42278a8">
<h3 id="org42278a8">Advantages over the old method</h3>
<ul>
<li>Users don&rsquo;t have to learn a new configuration framework</li>
<li>Options have sane defaults</li>

</ul>
</section>
</section>
<section>
<section id="slide-org69c8e27">
<h2 id="org69c8e27">Compileqc integration</h2>
<ul>
<li>New and improved QC sheet</li>

</ul>
</section>
<section id="slide-org99216e6">
<h3 id="org99216e6">Implementation details</h3>
<ul>
<li>Added an easy way to add new flags</li>
<li>new mapping json input allows for shortname in QC sheet</li>
<li>No module dependencies, uses singularity containers</li>

</ul>
</section>
</section>
<section>
<section id="slide-orgef2db12">
<h2 id="orgef2db12">Mixtape Engineers</h2>
<ul>
<li>Gitlab repo that facilitates team organization</li>
<li>Set of standards for new projects</li>

</ul>
</section>
<section id="slide-org9d5c96d">
<h3 id="org9d5c96d">Agile Board</h3>

<div id="org6823d65" class="figure">
<p><img src="agile_board.png" alt="agile_board.png" />
</p>
</div>
</section>
<section id="slide-orgc6adba2">
<h3 id="orgc6adba2"><span class="todo TODO">TODO</span> Architecture</h3>
<p>
Add folder structure here
</p>
</section>
<section id="slide-org686605a">
<h3 id="org686605a">Rationale (why not the wiki?)</h3>
<p>
The wiki is great for:
</p>
<ul>
<li>User Instructions</li>
<li>General Design documentation</li>

</ul>

<p>
The wiki is limited in:
</p>
<ul>
<li>Version control</li>
<li>Division of tasks</li>
<li>File viewing</li>

</ul>
</section>
</section>
</div>
</div>
<script src="./reveal.js/dist/reveal.js"></script>
<script src="./reveal.js/plugin/markdown/markdown.js"></script>
<script src="./reveal.js/plugin/notes/notes.js"></script>
<script src="./reveal.js/plugin/search/search.js"></script>
<script src="./reveal.js/plugin/zoom/zoom.js"></script>
<script>
// Full list of configuration options available here:
// https://github.com/hakimel/reveal.js#configuration
Reveal.initialize({

controls: true,
progress: true,
history: false,
center: true,
slideNumber: 'c',
rollingLinks: false,
keyboard: true,
mouseWheel: false,
fragmentInURL: false,
hashOneBasedIndex: false,
pdfSeparateFragments: true,
overview: true,

transition: 'convex',
transitionSpeed: 'default',

// Plugins with reveal.js 4.x
plugins: [ RevealMarkdown, RevealNotes, RevealSearch, RevealZoom ],

// Optional libraries used to extend reveal.js
dependencies: [
]

});
</script>
</body>
</html>
